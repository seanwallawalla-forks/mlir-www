<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIR: lib/Dialect/Linalg/ComprehensiveBufferize/ComprehensiveBufferize.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIR
   &#160;<span id="projectnumber">14.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1a25ec519b6c1121408b67cc33ce3f15.html">Dialect</a></li><li class="navelem"><a class="el" href="dir_8edb792440615361a0811a7329611599.html">Linalg</a></li><li class="navelem"><a class="el" href="dir_e44b8cea2a527cfa1a475cbe450594ac.html">ComprehensiveBufferize</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ComprehensiveBufferize.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ComprehensiveBufferize_8h_source.html">mlir/Dialect/Linalg/ComprehensiveBufferize/ComprehensiveBufferize.h</a>&quot;</code><br />
<code>#include &lt;random&gt;</code><br />
<code>#include &quot;<a class="el" href="Bufferization_8h_source.html">mlir/Dialect/Bufferization/IR/Bufferization.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BufferizableOpInterface_8h_source.html">mlir/Dialect/Linalg/ComprehensiveBufferize/BufferizableOpInterface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MemRef_8h_source.html">mlir/Dialect/MemRef/IR/MemRef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AsmState_8h_source.html">mlir/IR/AsmState.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Dominance_8h_source.html">mlir/IR/Dominance.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Operation_8h_source.html">mlir/IR/Operation.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TypeUtilities_8h_source.html">mlir/IR/TypeUtilities.h</a>&quot;</code><br />
<code>#include &quot;llvm/ADT/DenseSet.h&quot;</code><br />
<code>#include &quot;llvm/ADT/SetVector.h&quot;</code><br />
<code>#include &quot;llvm/Support/Debug.h&quot;</code><br />
<code>#include &quot;llvm/Support/FormatVariadic.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ComprehensiveBufferize.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="ComprehensiveBufferize_8cpp__incl.png" border="0" usemap="#lib_2Dialect_2Linalg_2ComprehensiveBufferize_2ComprehensiveBufferize_8cpp" alt=""/></div>
<map name="lib_2Dialect_2Linalg_2ComprehensiveBufferize_2ComprehensiveBufferize_8cpp" id="lib_2Dialect_2Linalg_2ComprehensiveBufferize_2ComprehensiveBufferize_8cpp">
<area shape="rect" id="node2" href="ComprehensiveBufferize_8h.html" title="mlir/Dialect/Linalg\l/ComprehensiveBufferize\l/ComprehensiveBufferize.h" alt="" coords="2342,109,2541,165"/>
<area shape="rect" id="node14" href="Bufferization_8h.html" title="mlir/Dialect/Bufferization\l/IR/Bufferization.h" alt="" coords="1506,117,1691,158"/>
<area shape="rect" id="node17" href="MemRef_8h.html" title="mlir/Dialect/MemRef\l/IR/MemRef.h" alt="" coords="900,221,1055,262"/>
<area shape="rect" id="node33" href="BufferizableOpInterface_8h.html" title="mlir/Dialect/Linalg\l/ComprehensiveBufferize\l/BufferizableOpInterface.h" alt="" coords="2320,213,2512,269"/>
<area shape="rect" id="node36" href="Operation_8h.html" title="mlir/IR/Operation.h" alt="" coords="2906,332,3051,359"/>
<area shape="rect" id="node42" href="AsmState_8h.html" title="mlir/IR/AsmState.h" alt="" coords="3127,332,3271,359"/>
<area shape="rect" id="node43" href="Dominance_8h.html" title="mlir/IR/Dominance.h" alt="" coords="3504,228,3659,255"/>
<area shape="rect" id="node46" href="TypeUtilities_8h.html" title="mlir/IR/TypeUtilities.h" alt="" coords="2897,228,3060,255"/>
<area shape="rect" id="node3" href="BuiltinOps_8h.html" title="mlir/IR/BuiltinOps.h" alt="" coords="1685,332,1833,359"/>
<area shape="rect" id="node4" href="FunctionSupport_8h.html" title="mlir/IR/FunctionSupport.h" alt="" coords="1681,429,1866,455"/>
<area shape="rect" id="node6" href="OpImplementation_8h.html" title="mlir/IR/OpImplementation.h" alt="" coords="1453,429,1656,455"/>
<area shape="rect" id="node8" href="OwningOpRef_8h.html" title="mlir/IR/OwningOpRef.h" alt="" coords="2127,429,2295,455"/>
<area shape="rect" id="node9" href="RegionKindInterface_8h.html" title="mlir/IR/RegionKindInterface.h" alt="" coords="1890,429,2102,455"/>
<area shape="rect" id="node10" href="CallInterfaces_8h.html" title="mlir/Interfaces/CallInterfaces.h" alt="" coords="161,429,383,455"/>
<area shape="rect" id="node11" href="CastInterfaces_8h.html" title="mlir/Interfaces/CastInterfaces.h" alt="" coords="1203,429,1429,455"/>
<area shape="rect" id="node12" href="SideEffectInterfaces_8h.html" title="mlir/Interfaces/SideEffect\lInterfaces.h" alt="" coords="992,421,1179,463"/>
<area shape="rect" id="node5" href="IR_2BuiltinTypes_8h.html" title="mlir/IR/BuiltinTypes.h" alt="" coords="1475,511,1635,537"/>
<area shape="rect" id="node15" href="AllocationOpInterface_8h.html" title="mlir/Dialect/Bufferization\l/IR/AllocationOpInterface.h" alt="" coords="263,221,459,262"/>
<area shape="rect" id="node30" href="Dialect_2Tensor_2IR_2Tensor_8h.html" title="mlir/Dialect/Tensor\l/IR/Tensor.h" alt="" coords="1315,221,1459,262"/>
<area shape="rect" id="node16" href="Builders_8h.html" title="mlir/IR/Builders.h" alt="" coords="731,429,866,455"/>
<area shape="rect" id="node18" href="Arithmetic_8h.html" title="mlir/Dialect/Arithmetic\l/IR/Arithmetic.h" alt="" coords="1388,325,1559,366"/>
<area shape="rect" id="node19" href="IR_2Dialect_8h.html" title="mlir/IR/Dialect.h" alt="" coords="2319,429,2446,455"/>
<area shape="rect" id="node23" href="ReshapeOpsUtils_8h.html" title="mlir/Dialect/Utils\l/ReshapeOpsUtils.h" alt="" coords="1909,325,2057,366"/>
<area shape="rect" id="node25" href="ControlFlowInterfaces_8h.html" title="mlir/Interfaces/ControlFlow\lInterfaces.h" alt="" coords="1014,325,1213,366"/>
<area shape="rect" id="node26" href="CopyOpInterface_8h.html" title="mlir/Interfaces/CopyOpInterface.h" alt="" coords="35,332,277,359"/>
<area shape="rect" id="node27" href="ViewLikeInterface_8h.html" title="mlir/Interfaces/ViewLike\lInterface.h" alt="" coords="709,325,889,366"/>
<area shape="rect" id="node20" href="OperationSupport_8h.html" title="mlir/IR/OperationSupport.h" alt="" coords="2799,511,2993,537"/>
<area shape="rect" id="node21" href="IR_2BuiltinAttributes_8h.html" title="mlir/IR/BuiltinAttributes.h" alt="" coords="2668,585,2855,612"/>
<area shape="rect" id="node24" href="Support_2LLVM_8h.html" title="mlir/Support/LLVM.h" alt="" coords="2522,429,2673,455"/>
<area shape="rect" id="node34" href="BlockAndValueMapping_8h.html" title="mlir/IR/BlockAndValueMapping.h" alt="" coords="3133,429,3366,455"/>
<area shape="rect" id="node35" href="Block_8h.html" title="mlir/IR/Block.h" alt="" coords="3191,511,3308,537"/>
<area shape="rect" id="node37" href="IR_2Diagnostics_8h.html" title="mlir/IR/Diagnostics.h" alt="" coords="2849,429,3007,455"/>
<area shape="rect" id="node38" href="IR_2Region_8h.html" title="mlir/IR/Region.h" alt="" coords="3391,429,3516,455"/>
<area shape="rect" id="node44" href="RegionGraphTraits_8h.html" title="mlir/IR/RegionGraphTraits.h" alt="" coords="3482,332,3681,359"/>
</map>
</div>
</div>
<p><a href="ComprehensiveBufferize_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;comprehensive-module-bufferize&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0bb487c37194ac844a13205a7edcefc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#ae0bb487c37194ac844a13205a7edcefc">DBGS</a>()&#160;&#160;&#160;(llvm::dbgs() &lt;&lt; '[' &lt;&lt; <a class="el" href="Transforms_2Utils_2Utils_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a> &lt;&lt; &quot;] &quot;)</td></tr>
<tr class="separator:ae0bb487c37194ac844a13205a7edcefc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb7bbd2151d1599f0a2a4dd7be89253"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#aebb7bbd2151d1599f0a2a4dd7be89253">LDBG</a>(X)&#160;&#160;&#160;LLVM_DEBUG(<a class="el" href="VectorTransferOpTransforms_8cpp.html#ae0bb487c37194ac844a13205a7edcefc">DBGS</a>() &lt;&lt; X)</td></tr>
<tr class="separator:aebb7bbd2151d1599f0a2a4dd7be89253"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2d3c9a4bae960942ab47f607c4356d2f"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a2d3c9a4bae960942ab47f607c4356d2f">printOperationInfo</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op, bool prefix)</td></tr>
<tr class="memdesc:a2d3c9a4bae960942ab47f607c4356d2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the operation name and bufferization information.  <a href="#a2d3c9a4bae960942ab47f607c4356d2f">More...</a><br /></td></tr>
<tr class="separator:a2d3c9a4bae960942ab47f607c4356d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fc47e96095baa9f513e9dce23429adb"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a5fc47e96095baa9f513e9dce23429adb">printValueInfo</a> (<a class="el" href="classmlir_1_1Value.html">Value</a> <a class="el" href="InterfaceSupport_8h.html#a53ed1830bfcbea42b0e7b10281e03865">value</a>, bool prefix)</td></tr>
<tr class="memdesc:a5fc47e96095baa9f513e9dce23429adb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the bufferization information for the defining op or block argument.  <a href="#a5fc47e96095baa9f513e9dce23429adb">More...</a><br /></td></tr>
<tr class="separator:a5fc47e96095baa9f513e9dce23429adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3f4227b727bd0d4df109e86e0b1bab"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a5d3f4227b727bd0d4df109e86e0b1bab">isaTensor</a> (<a class="el" href="classmlir_1_1Type.html">Type</a> t)</td></tr>
<tr class="separator:a5d3f4227b727bd0d4df109e86e0b1bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1109d802a5aa2a34cf74919ab5fc16e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#aa1109d802a5aa2a34cf74919ab5fc16e">setInPlaceOpResult</a> (<a class="el" href="classmlir_1_1OpResult.html">OpResult</a> opResult, bool inPlace)</td></tr>
<tr class="memdesc:aa1109d802a5aa2a34cf74919ab5fc16e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark whether OpResult can actually be bufferized inplace.  <a href="#aa1109d802a5aa2a34cf74919ab5fc16e">More...</a><br /></td></tr>
<tr class="separator:aa1109d802a5aa2a34cf74919ab5fc16e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141e0eb8c47839d63c212e47a42036dd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a141e0eb8c47839d63c212e47a42036dd">printTensorOrBufferInfo</a> (std::string prefix, <a class="el" href="classmlir_1_1Value.html">Value</a> <a class="el" href="InterfaceSupport_8h.html#a53ed1830bfcbea42b0e7b10281e03865">value</a>, <a class="el" href="classmlir_1_1AsmState.html">AsmState</a> &amp;state, llvm::raw_ostream &amp;os)</td></tr>
<tr class="memdesc:a141e0eb8c47839d63c212e47a42036dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method printing the bufferization information of a buffer / tensor.  <a href="#a141e0eb8c47839d63c212e47a42036dd">More...</a><br /></td></tr>
<tr class="separator:a141e0eb8c47839d63c212e47a42036dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d759a8c6c40b0736e6c57c07b377805"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a6d759a8c6c40b0736e6c57c07b377805">isInplaceMemoryWrite</a> (<a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;opOperand, const BufferizationAliasInfo &amp;aliasInfo)</td></tr>
<tr class="memdesc:a6d759a8c6c40b0736e6c57c07b377805"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if opOperand has been decided to bufferize in-place.  <a href="#a6d759a8c6c40b0736e6c57c07b377805">More...</a><br /></td></tr>
<tr class="separator:a6d759a8c6c40b0736e6c57c07b377805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fc248f74737856d86f7f241a3f1063"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a79fc248f74737856d86f7f241a3f1063">aliasesNonWritableBuffer</a> (<a class="el" href="classmlir_1_1Value.html">Value</a> <a class="el" href="InterfaceSupport_8h.html#a53ed1830bfcbea42b0e7b10281e03865">value</a>, const BufferizationAliasInfo &amp;aliasInfo, BufferizationState &amp;state)</td></tr>
<tr class="memdesc:a79fc248f74737856d86f7f241a3f1063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if, under current bufferization decisions, the buffer of <code>value</code> is not writable.  <a href="#a79fc248f74737856d86f7f241a3f1063">More...</a><br /></td></tr>
<tr class="separator:a79fc248f74737856d86f7f241a3f1063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f9ab4e1821cf458426441c13cb2a805"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a8f9ab4e1821cf458426441c13cb2a805">aliasesInPlaceWrite</a> (<a class="el" href="classmlir_1_1Value.html">Value</a> <a class="el" href="InterfaceSupport_8h.html#a53ed1830bfcbea42b0e7b10281e03865">value</a>, const BufferizationAliasInfo &amp;aliasInfo)</td></tr>
<tr class="memdesc:a8f9ab4e1821cf458426441c13cb2a805"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the buffer to which <code>operand</code> would bufferize is equivalent to some buffer write.  <a href="#a8f9ab4e1821cf458426441c13cb2a805">More...</a><br /></td></tr>
<tr class="separator:a8f9ab4e1821cf458426441c13cb2a805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab55113efa4ab370f96475cb0704060c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#aab55113efa4ab370f96475cb0704060c">happensBefore</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *a, <a class="el" href="classmlir_1_1Operation.html">Operation</a> *b, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo)</td></tr>
<tr class="memdesc:aab55113efa4ab370f96475cb0704060c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if <code>a</code> happens before <code>b</code>, i.e., <code>a</code> or one of its ancestors properly dominates <code>b</code> and <code>b</code> is not inside <code>a</code>.  <a href="#aab55113efa4ab370f96475cb0704060c">More...</a><br /></td></tr>
<tr class="separator:aab55113efa4ab370f96475cb0704060c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6479fb8e380d763b6e27bd6445f2f85"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#ad6479fb8e380d763b6e27bd6445f2f85">hasReadAfterWriteInterference</a> (const <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> *&gt; &amp;usesRead, const <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> *&gt; &amp;usesWrite, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo, const BufferizationAliasInfo &amp;aliasInfo)</td></tr>
<tr class="memdesc:ad6479fb8e380d763b6e27bd6445f2f85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given sets of uses and writes, return true if there is a RaW conflict under the assumption that all given reads/writes alias the same buffer and that all given writes bufferize inplace.  <a href="#ad6479fb8e380d763b6e27bd6445f2f85">More...</a><br /></td></tr>
<tr class="separator:ad6479fb8e380d763b6e27bd6445f2f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ee262184fc2f887d47e1f244dbf965"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a67ee262184fc2f887d47e1f244dbf965">wouldCreateReadAfterWriteInterference</a> (<a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;operand, <a class="el" href="classmlir_1_1OpResult.html">OpResult</a> result, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo, const BufferizationAliasInfo &amp;aliasInfo, bool checkConsistencyOnly=false)</td></tr>
<tr class="memdesc:a67ee262184fc2f887d47e1f244dbf965"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if bufferizing result inplace would create a conflict.  <a href="#a67ee262184fc2f887d47e1f244dbf965">More...</a><br /></td></tr>
<tr class="separator:a67ee262184fc2f887d47e1f244dbf965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae35a2b9392ebb2a57f8a448fd2c92a4d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#ae35a2b9392ebb2a57f8a448fd2c92a4d">wouldCreateWriteToNonWritableBuffer</a> (<a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;opOperand, <a class="el" href="classmlir_1_1OpResult.html">OpResult</a> opResult, const BufferizationAliasInfo &amp;aliasInfo, BufferizationState &amp;state)</td></tr>
<tr class="memdesc:ae35a2b9392ebb2a57f8a448fd2c92a4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if bufferizing <code>opOperand</code> inplace with <code>opResult</code> would create a write to a non-writable buffer.  <a href="#ae35a2b9392ebb2a57f8a448fd2c92a4d">More...</a><br /></td></tr>
<tr class="separator:ae35a2b9392ebb2a57f8a448fd2c92a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe6a1819693ae0efffd8e2c92dd49d47"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#afe6a1819693ae0efffd8e2c92dd49d47">bufferizableInPlaceAnalysisImpl</a> (<a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;operand, <a class="el" href="classmlir_1_1OpResult.html">OpResult</a> result, BufferizationAliasInfo &amp;aliasInfo, BufferizationState &amp;state, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo)</td></tr>
<tr class="memdesc:afe6a1819693ae0efffd8e2c92dd49d47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if <code>operand</code> can be bufferized in-place with <code>result</code>.  <a href="#afe6a1819693ae0efffd8e2c92dd49d47">More...</a><br /></td></tr>
<tr class="separator:afe6a1819693ae0efffd8e2c92dd49d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a0bd77f11db665a037cc8bfc42e1afe"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a6a0bd77f11db665a037cc8bfc42e1afe">inPlaceAnalysis</a> (<a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt; &amp;ops, BufferizationAliasInfo &amp;aliasInfo, BufferizationState &amp;state, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo, <a class="el" href="classunsigned.html">unsigned</a> analysisFuzzerSeed=0)</td></tr>
<tr class="memdesc:a6a0bd77f11db665a037cc8bfc42e1afe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze the <code>ops</code> to determine which OpResults are inplaceable.  <a href="#a6a0bd77f11db665a037cc8bfc42e1afe">More...</a><br /></td></tr>
<tr class="separator:a6a0bd77f11db665a037cc8bfc42e1afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95183b4b983d550c81cc8341b8109104"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a95183b4b983d550c81cc8341b8109104">inPlaceAnalysis</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op, BufferizationAliasInfo &amp;aliasInfo, BufferizationState &amp;state, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo, <a class="el" href="classunsigned.html">unsigned</a> analysisFuzzerSeed=0)</td></tr>
<tr class="memdesc:a95183b4b983d550c81cc8341b8109104"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze all ops that are contained in <code>op</code>.  <a href="#a95183b4b983d550c81cc8341b8109104">More...</a><br /></td></tr>
<tr class="separator:a95183b4b983d550c81cc8341b8109104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10883fdc41e98a7f304dcf1c6be2e75e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a10883fdc41e98a7f304dcf1c6be2e75e">equivalenceAnalysis</a> (<a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt; &amp;ops, BufferizationAliasInfo &amp;aliasInfo)</td></tr>
<tr class="memdesc:a10883fdc41e98a7f304dcf1c6be2e75e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze equivalence of tied OpResult/OpOperand pairs of the given ops.  <a href="#a10883fdc41e98a7f304dcf1c6be2e75e">More...</a><br /></td></tr>
<tr class="separator:a10883fdc41e98a7f304dcf1c6be2e75e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d50b44db8b1a44bca435494c56fd49"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#ad3d50b44db8b1a44bca435494c56fd49">equivalenceAnalysis</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op, BufferizationAliasInfo &amp;aliasInfo)</td></tr>
<tr class="memdesc:ad3d50b44db8b1a44bca435494c56fd49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze equivalence of tied OpResult/OpOperand pairs of all ops contained in <code>op</code>.  <a href="#ad3d50b44db8b1a44bca435494c56fd49">More...</a><br /></td></tr>
<tr class="separator:ad3d50b44db8b1a44bca435494c56fd49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4add9c71fd264a9b58bbe2b2fcbd69cf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a4add9c71fd264a9b58bbe2b2fcbd69cf">checkAliasInfoConsistency</a> (FuncOp funcOp, const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;domInfo, const BufferizationAliasInfo &amp;aliasInfo)</td></tr>
<tr class="memdesc:a4add9c71fd264a9b58bbe2b2fcbd69cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert that the current bufferization decisions are consistent.  <a href="#a4add9c71fd264a9b58bbe2b2fcbd69cf">More...</a><br /></td></tr>
<tr class="separator:a4add9c71fd264a9b58bbe2b2fcbd69cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d606bb66e46930b4aff570abe80e53"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#ad9d606bb66e46930b4aff570abe80e53">annotateOpsWithBufferizationMarkers</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *op, const BufferizationAliasInfo &amp;aliasInfo)</td></tr>
<tr class="memdesc:ad9d606bb66e46930b4aff570abe80e53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Annotate the IR with the result of the analysis. For testing/debugging only.  <a href="#ad9d606bb66e46930b4aff570abe80e53">More...</a><br /></td></tr>
<tr class="separator:ad9d606bb66e46930b4aff570abe80e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a660646289e735830b2490d50e78de988"><td class="memItemLeft" align="right" valign="top">constexpr StringLiteral&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ComprehensiveBufferize_8cpp.html#a660646289e735830b2490d50e78de988">kInPlaceResultsAttrName</a> = &quot;__inplace_results_attr__&quot;</td></tr>
<tr class="memdesc:a660646289e735830b2490d50e78de988"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attribute marker to specify op results that can be bufferized inPlace.  <a href="#a660646289e735830b2490d50e78de988">More...</a><br /></td></tr>
<tr class="separator:a660646289e735830b2490d50e78de988"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae0bb487c37194ac844a13205a7edcefc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0bb487c37194ac844a13205a7edcefc">&#9670;&nbsp;</a></span>DBGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBGS</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(llvm::dbgs() &lt;&lt; '[' &lt;&lt; <a class="el" href="Transforms_2Utils_2Utils_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a> &lt;&lt; &quot;] &quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00130">130</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

</div>
</div>
<a id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&nbsp;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;comprehensive-module-bufferize&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00123">123</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00190">printOperationInfo()</a>.</p>

</div>
</div>
<a id="aebb7bbd2151d1599f0a2a4dd7be89253"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebb7bbd2151d1599f0a2a4dd7be89253">&#9670;&nbsp;</a></span>LDBG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDBG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">X</td><td>)</td>
          <td>&#160;&#160;&#160;LLVM_DEBUG(<a class="el" href="VectorTransferOpTransforms_8cpp.html#ae0bb487c37194ac844a13205a7edcefc">DBGS</a>() &lt;&lt; X)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00131">131</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00283">aliasesInPlaceWrite()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00251">aliasesNonWritableBuffer()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00540">bufferizableInPlaceAnalysisImpl()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00328">hasReadAfterWriteInterference()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00156">setInPlaceOpResult()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00505">wouldCreateWriteToNonWritableBuffer()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8f9ab4e1821cf458426441c13cb2a805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f9ab4e1821cf458426441c13cb2a805">&#9670;&nbsp;</a></span>aliasesInPlaceWrite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool aliasesInPlaceWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if the buffer to which <code>operand</code> would bufferize is equivalent to some buffer write. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00283">283</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8h_source.html#l00198">mlir::Value::getUses()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00230">isInplaceMemoryWrite()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00131">LDBG</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00190">printOperationInfo()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00211">printValueInfo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00505">wouldCreateWriteToNonWritableBuffer()</a>.</p>

</div>
</div>
<a id="a79fc248f74737856d86f7f241a3f1063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79fc248f74737856d86f7f241a3f1063">&#9670;&nbsp;</a></span>aliasesNonWritableBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool aliasesNonWritableBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationState &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if, under current bufferization decisions, the buffer of <code>value</code> is not writable. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00251">251</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8h_source.html#l00101">mlir::Value::dyn_cast()</a>, <a class="el" href="Value_8cpp_source.html#l00020">mlir::Value::getDefiningOp()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00131">LDBG</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00211">printValueInfo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00505">wouldCreateWriteToNonWritableBuffer()</a>.</p>

</div>
</div>
<a id="ad9d606bb66e46930b4aff570abe80e53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9d606bb66e46930b4aff570abe80e53">&#9670;&nbsp;</a></span>annotateOpsWithBufferizationMarkers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> annotateOpsWithBufferizationMarkers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Annotate the IR with the result of the analysis. For testing/debugging only. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00703">703</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00670">checkAliasInfoConsistency()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00635">equivalenceAnalysis()</a>, <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="LogicalResult_8h_source.html#l00062">mlir::failure()</a>, <a class="el" href="Operation_8h_source.html#l00284">mlir::Operation::getResults()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00589">inPlaceAnalysis()</a>, <a class="el" href="PassManagerOptions_8cpp_source.html#l00083">options</a>, <a class="el" href="namespacemlir_1_1linalg_1_1comprehensive__bufferize.html#a5f458cab0d0a90b53b6f335f9d4fe0fe">mlir::linalg::comprehensive_bufferize::runComprehensiveBufferize()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00156">setInPlaceOpResult()</a>, <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>, and <a class="el" href="Operation_8h_source.html#l00513">mlir::Operation::walk()</a>.</p>

</div>
</div>
<a id="afe6a1819693ae0efffd8e2c92dd49d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe6a1819693ae0efffd8e2c92dd49d47">&#9670;&nbsp;</a></span>bufferizableInPlaceAnalysisImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> bufferizableInPlaceAnalysisImpl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;&#160;</td>
          <td class="paramname"><em>operand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpResult.html">OpResult</a>&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationState &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine if <code>operand</code> can be bufferized in-place with <code>result</code>. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00540">540</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00203">mlir::linalg::comprehensive_bufferize::getAliasingOpOperand()</a>, <a class="el" href="Value_8cpp_source.html#l00212">mlir::OpOperand::getOperandNumber()</a>, <a class="el" href="Value_8h_source.html#l00437">mlir::OpResult::getResultNumber()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00131">LDBG</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00211">printValueInfo()</a>, <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00453">wouldCreateReadAfterWriteInterference()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00505">wouldCreateWriteToNonWritableBuffer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00589">inPlaceAnalysis()</a>.</p>

</div>
</div>
<a id="a4add9c71fd264a9b58bbe2b2fcbd69cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4add9c71fd264a9b58bbe2b2fcbd69cf">&#9670;&nbsp;</a></span>checkAliasInfoConsistency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> checkAliasInfoConsistency </td>
          <td>(</td>
          <td class="paramtype">FuncOp&#160;</td>
          <td class="paramname"><em>funcOp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assert that the current bufferization decisions are consistent. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00670">670</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Visitors_8h_source.html#l00051">mlir::WalkResult::advance()</a>, <a class="el" href="Operation_8cpp_source.html#l00231">mlir::Operation::emitError()</a>, <a class="el" href="Operation_8h_source.html#l00252">mlir::Operation::getOpOperands()</a>, <a class="el" href="Visitors_8h_source.html#l00050">mlir::WalkResult::interrupt()</a>, <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>, <a class="el" href="Visitors_8h_source.html#l00055">mlir::WalkResult::wasInterrupted()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00453">wouldCreateReadAfterWriteInterference()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00703">annotateOpsWithBufferizationMarkers()</a>.</p>

</div>
</div>
<a id="a10883fdc41e98a7f304dcf1c6be2e75e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10883fdc41e98a7f304dcf1c6be2e75e">&#9670;&nbsp;</a></span>equivalenceAnalysis() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> equivalenceAnalysis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyze equivalence of tied OpResult/OpOperand pairs of the given ops. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00635">635</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00703">annotateOpsWithBufferizationMarkers()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00654">equivalenceAnalysis()</a>.</p>

</div>
</div>
<a id="ad3d50b44db8b1a44bca435494c56fd49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3d50b44db8b1a44bca435494c56fd49">&#9670;&nbsp;</a></span>equivalenceAnalysis() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> equivalenceAnalysis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyze equivalence of tied OpResult/OpOperand pairs of all ops contained in <code>op</code>. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00654">654</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00635">equivalenceAnalysis()</a>, <a class="el" href="Operation_8h_source.html#l00297">mlir::Operation::getResultTypes()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00139">isaTensor()</a>, <a class="el" href="namespacemlir.html#a59fa9dd53c74f1ca73aa7ef263c94adca22e80e4e88a340d28d3f27ee3d9d7163">mlir::PostOrder</a>, and <a class="el" href="Operation_8h_source.html#l00513">mlir::Operation::walk()</a>.</p>

</div>
</div>
<a id="aab55113efa4ab370f96475cb0704060c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab55113efa4ab370f96475cb0704060c">&#9670;&nbsp;</a></span>happensBefore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool happensBefore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if <code>a</code> happens before <code>b</code>, i.e., <code>a</code> or one of its ancestors properly dominates <code>b</code> and <code>b</code> is not inside <code>a</code>. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00307">307</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Operation_8h_source.html#l00117">mlir::Operation::getParentOp()</a>, <a class="el" href="Operation_8cpp_source.html#l00182">mlir::Operation::isProperAncestor()</a>, and <a class="el" href="Dominance_8h_source.html#l00130">mlir::DominanceInfo::properlyDominates()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00328">hasReadAfterWriteInterference()</a>.</p>

</div>
</div>
<a id="ad6479fb8e380d763b6e27bd6445f2f85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6479fb8e380d763b6e27bd6445f2f85">&#9670;&nbsp;</a></span>hasReadAfterWriteInterference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool hasReadAfterWriteInterference </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>usesRead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>usesWrite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given sets of uses and writes, return true if there is a RaW conflict under the assumption that all given reads/writes alias the same buffer and that all given writes bufferize inplace. </p>
<p>A conflict is: According to SSA use-def chains, a read R is supposed to read the result of a write W1. But because of bufferization decisions, R actually reads another write W2. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00328">328</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8h_source.html#l00109">mlir::Value::cast()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00312">mlir::linalg::comprehensive_bufferize::findLastPrecedingWrite()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00212">mlir::linalg::comprehensive_bufferize::getAliasingOpResult()</a>, <a class="el" href="Value_8cpp_source.html#l00020">mlir::Value::getDefiningOp()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00307">happensBefore()</a>, <a class="el" href="ControlFlowInterfaces_8cpp_source.html#l00231">mlir::insideMutuallyExclusiveRegions()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00131">LDBG</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00190">printOperationInfo()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00211">printValueInfo()</a>.</p>

</div>
</div>
<a id="a6a0bd77f11db665a037cc8bfc42e1afe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a0bd77f11db665a037cc8bfc42e1afe">&#9670;&nbsp;</a></span>inPlaceAnalysis() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> inPlaceAnalysis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationState &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>analysisFuzzerSeed</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyze the <code>ops</code> to determine which OpResults are inplaceable. </p>
<p>Walk ops in reverse and bufferize ops greedily. This is a good starter heuristic.</p>
<p>Even if an op does not read or write, it may still create an alias when bufferized in-place. An example of such ops is tensor.extract_slice.</p>
<p>Rationale for bufferizing <code>%1 = tensor.extract_slice %0[...]</code> inplace:</p>
<p>When bufferized out of place, an ExtractSliceOp lowers to alloc + copy. This cannot change the flow of information for either the source or the result buffers.</p>
<p>When bufferized inplace, an ExtractSliceOp does not by itself create any read or write from memory. Instead, it has the effect of merging the alias sets of the source and the result buffers.</p>
<p>An analysis is required to ensure inplace bufferization would not result in RaW dependence violations. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00589">589</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00540">bufferizableInPlaceAnalysisImpl()</a>, <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="LogicalResult_8h_source.html#l00062">mlir::failure()</a>, and <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00703">annotateOpsWithBufferizationMarkers()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00616">inPlaceAnalysis()</a>.</p>

</div>
</div>
<a id="a95183b4b983d550c81cc8341b8109104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95183b4b983d550c81cc8341b8109104">&#9670;&nbsp;</a></span>inPlaceAnalysis() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> inPlaceAnalysis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationState &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>analysisFuzzerSeed</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyze all ops that are contained in <code>op</code>. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00616">616</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Operation_8h_source.html#l00266">mlir::Operation::getOperandTypes()</a>, <a class="el" href="Operation_8h_source.html#l00297">mlir::Operation::getResultTypes()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00589">inPlaceAnalysis()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00139">isaTensor()</a>, and <a class="el" href="Operation_8h_source.html#l00513">mlir::Operation::walk()</a>.</p>

</div>
</div>
<a id="a5d3f4227b727bd0d4df109e86e0b1bab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3f4227b727bd0d4df109e86e0b1bab">&#9670;&nbsp;</a></span>isaTensor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isaTensor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Type.html">Type</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00139">139</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Types_8h_source.html#l00234">mlir::Type::isa()</a>.</p>

<p class="reference">Referenced by <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00421">mlir::linalg::comprehensive_bufferize::bufferize()</a>, <a class="el" href="BufferizableOpInterface_8h_source.html#l00426">mlir::linalg::comprehensive_bufferize::AllocationHoistingBarrierOnly&lt; OpTy &gt;::bufferize()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00654">equivalenceAnalysis()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00616">inPlaceAnalysis()</a>.</p>

</div>
</div>
<a id="a6d759a8c6c40b0736e6c57c07b377805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d759a8c6c40b0736e6c57c07b377805">&#9670;&nbsp;</a></span>isInplaceMemoryWrite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isInplaceMemoryWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;&#160;</td>
          <td class="paramname"><em>opOperand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if opOperand has been decided to bufferize in-place. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00230">230</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00235">mlir::linalg::comprehensive_bufferize::bufferizesToMemoryWrite()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00212">mlir::linalg::comprehensive_bufferize::getAliasingOpResult()</a>, and <a class="el" href="UseDefLists_8h_source.html#l00037">mlir::detail::IROperandBase::getOwner()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00283">aliasesInPlaceWrite()</a>.</p>

</div>
</div>
<a id="a2d3c9a4bae960942ab47f607c4356d2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d3c9a4bae960942ab47f607c4356d2f">&#9670;&nbsp;</a></span>printOperationInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::string printOperationInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>prefix</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the operation name and bufferization information. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00190">190</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00123">DEBUG_TYPE</a>, <a class="el" href="Operation_8h_source.html#l00057">mlir::Operation::getName()</a>, <a class="el" href="Operation_8h_source.html#l00252">mlir::Operation::getOpOperands()</a>, <a class="el" href="Operation_8h_source.html#l00289">mlir::Operation::getOpResults()</a>, <a class="el" href="Operation_8h_source.html#l00120">mlir::Operation::getParentOfType()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00180">printTensorOrBufferInfo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00283">aliasesInPlaceWrite()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00328">hasReadAfterWriteInterference()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00211">printValueInfo()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00156">setInPlaceOpResult()</a>.</p>

</div>
</div>
<a id="a141e0eb8c47839d63c212e47a42036dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a141e0eb8c47839d63c212e47a42036dd">&#9670;&nbsp;</a></span>printTensorOrBufferInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> printTensorOrBufferInfo </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1AsmState.html">AsmState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::raw_ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method printing the bufferization information of a buffer / tensor. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00180">180</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8h_source.html#l00119">mlir::Value::getType()</a>, <a class="el" href="Types_8h_source.html#l00234">mlir::Type::isa()</a>, and <a class="el" href="AsmPrinter_8cpp_source.html#l02806">mlir::Value::printAsOperand()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00190">printOperationInfo()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00211">printValueInfo()</a>.</p>

</div>
</div>
<a id="a5fc47e96095baa9f513e9dce23429adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fc47e96095baa9f513e9dce23429adb">&#9670;&nbsp;</a></span>printValueInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::string printValueInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>prefix</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the bufferization information for the defining op or block argument. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00211">211</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8cpp_source.html#l00020">mlir::Value::getDefiningOp()</a>, <a class="el" href="IR_2Region_8h_source.html#l00199">mlir::Region::getParentOfType()</a>, <a class="el" href="Value_8cpp_source.html#l00041">mlir::Value::getParentRegion()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00190">printOperationInfo()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00180">printTensorOrBufferInfo()</a>, and <a class="el" href="InterfaceSupport_8h_source.html#l00161">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00283">aliasesInPlaceWrite()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00251">aliasesNonWritableBuffer()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00540">bufferizableInPlaceAnalysisImpl()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00328">hasReadAfterWriteInterference()</a>.</p>

</div>
</div>
<a id="aa1109d802a5aa2a34cf74919ab5fc16e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1109d802a5aa2a34cf74919ab5fc16e">&#9670;&nbsp;</a></span>setInPlaceOpResult()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> setInPlaceOpResult </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpResult.html">OpResult</a>&#160;</td>
          <td class="paramname"><em>opResult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>inPlace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark whether OpResult can actually be bufferized inplace. </p>
<p>If <code>inPlace</code> is <code>true</code>, the use-def chain analysis has guaranteed that no subsequent write would occur to the bufferized tensor value (i.e. the result can be bufferized inplace). </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00156">156</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Attributes_8h_source.html#l00123">mlir::Attribute::dyn_cast_or_null()</a>, <a class="el" href="Operation_8h_source.html#l00323">mlir::Operation::getAttr()</a>, <a class="el" href="Operation_8h_source.html#l00273">mlir::Operation::getNumResults()</a>, <a class="el" href="Value_8h_source.html#l00434">mlir::OpResult::getOwner()</a>, <a class="el" href="Value_8h_source.html#l00437">mlir::OpResult::getResultNumber()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00150">kInPlaceResultsAttrName</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00131">LDBG</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00190">printOperationInfo()</a>, and <a class="el" href="Operation_8h_source.html#l00347">mlir::Operation::setAttr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00703">annotateOpsWithBufferizationMarkers()</a>.</p>

</div>
</div>
<a id="a67ee262184fc2f887d47e1f244dbf965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67ee262184fc2f887d47e1f244dbf965">&#9670;&nbsp;</a></span>wouldCreateReadAfterWriteInterference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wouldCreateReadAfterWriteInterference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;&#160;</td>
          <td class="paramname"><em>operand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpResult.html">OpResult</a>&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DominanceInfo.html">DominanceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>domInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>checkConsistencyOnly</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return true if bufferizing result inplace would create a conflict. </p>
<p>A read R and a write W of the same alias set is a conflict if inplace bufferization of W changes the value read by R to a value different from the one that would be expected by tracing back R's origin through SSA use-def chains. A conflict can only be introduced by a new alias and/or an inplace bufferization decision.</p>
<p>Example: %0 = tensor.extract_slice t[...][...][1, 1] {inplace?} %1 = vector.transfer_write v1, t {inplace} : vector&lt;5xf32&gt;, tensor&lt;?xf32&gt; e = tensor.extract_slice %1 %2 = vector.transfer_write v2, %0 {inplace} : vector&lt;6xf32&gt;, tensor&lt;?xf32&gt; %3 = vector.transfer_read e, cst : tensor&lt;?xf32&gt;, vector&lt;7xf32&gt;</p>
<p>In the above example, the two TransferWriteOps have already been decided to bufferize inplace. Bufferizing the ExtractSliceOp inplace would create a conflict because:</p><ul>
<li>According to SSA use-def chains, we expect to read the result of %1.</li>
<li>However, adding an alias {%0, t} would mean that the second TransferWriteOp overwrites the first one. Therefore, the TransferReadOp would no longer be reading the result of %1.</li>
</ul>
<p>If <code>checkConsistencyOnly</code> is true, this function checks if there is a read-after-write conflict without bufferizing <code>operand</code> inplace. This would indicate a problem with the current inplace bufferization decisions.</p>
<p>Note: If <code>checkConsistencyOnly</code>, this function may be called with a null OpResult. In that case, only the consistency of bufferization decisions involving aliases of the given OpOperand are checked. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00453">453</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00203">mlir::linalg::comprehensive_bufferize::getAliasingOpOperand()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00540">bufferizableInPlaceAnalysisImpl()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00670">checkAliasInfoConsistency()</a>.</p>

</div>
</div>
<a id="ae35a2b9392ebb2a57f8a448fd2c92a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae35a2b9392ebb2a57f8a448fd2c92a4d">&#9670;&nbsp;</a></span>wouldCreateWriteToNonWritableBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool wouldCreateWriteToNonWritableBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpOperand.html">OpOperand</a> &amp;&#160;</td>
          <td class="paramname"><em>opOperand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1OpResult.html">OpResult</a>&#160;</td>
          <td class="paramname"><em>opResult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationState &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if bufferizing <code>opOperand</code> inplace with <code>opResult</code> would create a write to a non-writable buffer. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00505">505</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00283">aliasesInPlaceWrite()</a>, <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00251">aliasesNonWritableBuffer()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00235">mlir::linalg::comprehensive_bufferize::bufferizesToMemoryWrite()</a>, <a class="el" href="UseDefLists_8h_source.html#l00133">mlir::IROperand&lt; DerivedT, IRValueT &gt;::get()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00203">mlir::linalg::comprehensive_bufferize::getAliasingOpOperand()</a>, and <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00131">LDBG</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00540">bufferizableInPlaceAnalysisImpl()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a660646289e735830b2490d50e78de988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a660646289e735830b2490d50e78de988">&#9670;&nbsp;</a></span>kInPlaceResultsAttrName</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">constexpr StringLiteral kInPlaceResultsAttrName = &quot;__inplace_results_attr__&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attribute marker to specify op results that can be bufferized inPlace. </p>

<p class="definition">Definition at line <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00150">150</a> of file <a class="el" href="ComprehensiveBufferize_8cpp_source.html">ComprehensiveBufferize.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ComprehensiveBufferize_8cpp_source.html#l00156">setInPlaceOpResult()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 6 2021 20:34:09 for MLIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
