<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIR: lib/Dialect/Linalg/ComprehensiveBufferize/ModuleBufferization.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIR
   &#160;<span id="projectnumber">14.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1a25ec519b6c1121408b67cc33ce3f15.html">Dialect</a></li><li class="navelem"><a class="el" href="dir_8edb792440615361a0811a7329611599.html">Linalg</a></li><li class="navelem"><a class="el" href="dir_e44b8cea2a527cfa1a475cbe450594ac.html">ComprehensiveBufferize</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ModuleBufferization.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ModuleBufferization_8h_source.html">mlir/Dialect/Linalg/ComprehensiveBufferize/ModuleBufferization.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Bufferization_8h_source.html">mlir/Dialect/Bufferization/IR/Bufferization.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BufferizableOpInterface_8h_source.html">mlir/Dialect/Linalg/ComprehensiveBufferize/BufferizableOpInterface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ComprehensiveBufferize_8h_source.html">mlir/Dialect/Linalg/ComprehensiveBufferize/ComprehensiveBufferize.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MemRef_8h_source.html">mlir/Dialect/MemRef/IR/MemRef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Ops_8h_source.html">mlir/Dialect/StandardOps/IR/Ops.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Operation_8h_source.html">mlir/IR/Operation.h</a>&quot;</code><br />
<code>#include &quot;llvm/Support/Debug.h&quot;</code><br />
<code>#include &quot;llvm/Support/FormatVariadic.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ModuleBufferization.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="ModuleBufferization_8cpp__incl.png" border="0" usemap="#lib_2Dialect_2Linalg_2ComprehensiveBufferize_2ModuleBufferization_8cpp" alt=""/></div>
<map name="lib_2Dialect_2Linalg_2ComprehensiveBufferize_2ModuleBufferization_8cpp" id="lib_2Dialect_2Linalg_2ComprehensiveBufferize_2ModuleBufferization_8cpp">
<area shape="rect" id="node2" href="ModuleBufferization_8h.html" title="mlir/Dialect/Linalg\l/ComprehensiveBufferize\l/ModuleBufferization.h" alt="" coords="1131,109,1317,165"/>
<area shape="rect" id="node3" href="Bufferization_8h.html" title="mlir/Dialect/Bufferization\l/IR/Bufferization.h" alt="" coords="1342,117,1527,158"/>
<area shape="rect" id="node10" href="Operation_8h.html" title="mlir/IR/Operation.h" alt="" coords="1969,585,2114,612"/>
<area shape="rect" id="node17" href="MemRef_8h.html" title="mlir/Dialect/MemRef\l/IR/MemRef.h" alt="" coords="3251,221,3405,262"/>
<area shape="rect" id="node38" href="BufferizableOpInterface_8h.html" title="mlir/Dialect/Linalg\l/ComprehensiveBufferize\l/BufferizableOpInterface.h" alt="" coords="3925,213,4117,269"/>
<area shape="rect" id="node44" href="ComprehensiveBufferize_8h.html" title="mlir/Dialect/Linalg\l/ComprehensiveBufferize\l/ComprehensiveBufferize.h" alt="" coords="3558,109,3757,165"/>
<area shape="rect" id="node45" href="Ops_8h.html" title="mlir/Dialect/StandardOps\l/IR/Ops.h" alt="" coords="1769,221,1954,262"/>
<area shape="rect" id="node4" href="AllocationOpInterface_8h.html" title="mlir/Dialect/Bufferization\l/IR/AllocationOpInterface.h" alt="" coords="450,221,646,262"/>
<area shape="rect" id="node32" href="Dialect_2Tensor_2IR_2Tensor_8h.html" title="mlir/Dialect/Tensor\l/IR/Tensor.h" alt="" coords="957,221,1101,262"/>
<area shape="rect" id="node5" href="Builders_8h.html" title="mlir/IR/Builders.h" alt="" coords="1091,429,1226,455"/>
<area shape="rect" id="node6" href="OpDefinition_8h.html" title="mlir/IR/OpDefinition.h" alt="" coords="1893,511,2056,537"/>
<area shape="rect" id="node7" href="IR_2Dialect_8h.html" title="mlir/IR/Dialect.h" alt="" coords="1793,585,1919,612"/>
<area shape="rect" id="node8" href="OperationSupport_8h.html" title="mlir/IR/OperationSupport.h" alt="" coords="1759,660,1953,687"/>
<area shape="rect" id="node9" href="IR_2BuiltinAttributes_8h.html" title="mlir/IR/BuiltinAttributes.h" alt="" coords="1763,735,1949,761"/>
<area shape="rect" id="node11" href="Block_8h.html" title="mlir/IR/Block.h" alt="" coords="2264,735,2381,761"/>
<area shape="rect" id="node12" href="IR_2Diagnostics_8h.html" title="mlir/IR/Diagnostics.h" alt="" coords="2079,660,2236,687"/>
<area shape="rect" id="node13" href="IR_2Region_8h.html" title="mlir/IR/Region.h" alt="" coords="2260,660,2385,687"/>
<area shape="rect" id="node18" href="Arithmetic_8h.html" title="mlir/Dialect/Arithmetic\l/IR/Arithmetic.h" alt="" coords="1552,325,1723,366"/>
<area shape="rect" id="node21" href="CastInterfaces_8h.html" title="mlir/Interfaces/CastInterfaces.h" alt="" coords="2205,429,2432,455"/>
<area shape="rect" id="node22" href="SideEffectInterfaces_8h.html" title="mlir/Interfaces/SideEffect\lInterfaces.h" alt="" coords="1944,421,2131,463"/>
<area shape="rect" id="node24" href="ReshapeOpsUtils_8h.html" title="mlir/Dialect/Utils\l/ReshapeOpsUtils.h" alt="" coords="2799,325,2947,366"/>
<area shape="rect" id="node26" href="CallInterfaces_8h.html" title="mlir/Interfaces/CallInterfaces.h" alt="" coords="3394,429,3617,455"/>
<area shape="rect" id="node27" href="ControlFlowInterfaces_8h.html" title="mlir/Interfaces/ControlFlow\lInterfaces.h" alt="" coords="1898,325,2097,366"/>
<area shape="rect" id="node28" href="CopyOpInterface_8h.html" title="mlir/Interfaces/CopyOpInterface.h" alt="" coords="3641,429,3884,455"/>
<area shape="rect" id="node29" href="ViewLikeInterface_8h.html" title="mlir/Interfaces/ViewLike\lInterface.h" alt="" coords="939,325,1119,366"/>
<area shape="rect" id="node19" href="OpImplementation_8h.html" title="mlir/IR/OpImplementation.h" alt="" coords="1352,429,1555,455"/>
<area shape="rect" id="node23" href="VectorInterfaces_8h.html" title="mlir/Interfaces/VectorInterfaces.h" alt="" coords="1579,429,1818,455"/>
<area shape="rect" id="node20" href="IR_2BuiltinTypes_8h.html" title="mlir/IR/BuiltinTypes.h" alt="" coords="1228,511,1388,537"/>
<area shape="rect" id="node25" href="Support_2LLVM_8h.html" title="mlir/Support/LLVM.h" alt="" coords="2798,429,2949,455"/>
<area shape="rect" id="node33" href="InferTypeOpInterface_8h.html" title="mlir/Interfaces/InferType\lOpInterface.h" alt="" coords="1195,325,1376,366"/>
<area shape="rect" id="node39" href="BlockAndValueMapping_8h.html" title="mlir/IR/BlockAndValueMapping.h" alt="" coords="4086,585,4319,612"/>
<area shape="rect" id="node40" href="BuiltinOps_8h.html" title="mlir/IR/BuiltinOps.h" alt="" coords="3583,332,3731,359"/>
</map>
</div>
</div>
<p><a href="ModuleBufferization_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmlir_1_1linalg_1_1comprehensive__bufferize_1_1std__ext_1_1CallOpInterface.html">mlir::linalg::comprehensive_bufferize::std_ext::CallOpInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmlir_1_1linalg_1_1comprehensive__bufferize_1_1std__ext_1_1ReturnOpInterface.html">mlir::linalg::comprehensive_bufferize::std_ext::ReturnOpInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmlir_1_1linalg_1_1comprehensive__bufferize_1_1std__ext_1_1FuncOpInterface.html">mlir::linalg::comprehensive_bufferize::std_ext::FuncOpInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacemlir"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemlir.html">mlir</a></td></tr>
<tr class="memdesc:namespacemlir"><td class="mdescLeft">&#160;</td><td class="mdescRight">Include the generated interface declarations. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacemlir_1_1linalg"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemlir_1_1linalg.html">mlir::linalg</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacemlir_1_1linalg_1_1comprehensive__bufferize"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemlir_1_1linalg_1_1comprehensive__bufferize.html">mlir::linalg::comprehensive_bufferize</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacemlir_1_1linalg_1_1comprehensive__bufferize_1_1std__ext"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemlir_1_1linalg_1_1comprehensive__bufferize_1_1std__ext.html">mlir::linalg::comprehensive_bufferize::std_ext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;comprehensive-module-bufferize&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0bb487c37194ac844a13205a7edcefc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#ae0bb487c37194ac844a13205a7edcefc">DBGS</a>()&#160;&#160;&#160;(llvm::dbgs() &lt;&lt; '[' &lt;&lt; <a class="el" href="Transforms_2Utils_2Utils_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a> &lt;&lt; &quot;] &quot;)</td></tr>
<tr class="separator:ae0bb487c37194ac844a13205a7edcefc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb7bbd2151d1599f0a2a4dd7be89253"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#aebb7bbd2151d1599f0a2a4dd7be89253">LDBG</a>(X)&#160;&#160;&#160;LLVM_DEBUG(<a class="el" href="VectorTransferOpTransforms_8cpp.html#ae0bb487c37194ac844a13205a7edcefc">DBGS</a>() &lt;&lt; X)</td></tr>
<tr class="separator:aebb7bbd2151d1599f0a2a4dd7be89253"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5a3605cd6841d37ac466763fd1ce61c0"><td class="memItemLeft" align="right" valign="top">static ModuleBufferizationState &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#a5a3605cd6841d37ac466763fd1ce61c0">getModuleBufferizationState</a> (BufferizationState &amp;state)</td></tr>
<tr class="separator:a5a3605cd6841d37ac466763fd1ce61c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb96ef9c328b053a8e7c9715576d0d0"><td class="memItemLeft" align="right" valign="top">static ReturnOp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#a8eb96ef9c328b053a8e7c9715576d0d0">getAssumedUniqueReturnOp</a> (FuncOp funcOp)</td></tr>
<tr class="memdesc:a8eb96ef9c328b053a8e7c9715576d0d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the unique ReturnOp that terminates <code>funcOp</code>.  <a href="#a8eb96ef9c328b053a8e7c9715576d0d0">More...</a><br /></td></tr>
<tr class="separator:a8eb96ef9c328b053a8e7c9715576d0d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3f4227b727bd0d4df109e86e0b1bab"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#a5d3f4227b727bd0d4df109e86e0b1bab">isaTensor</a> (<a class="el" href="classmlir_1_1Type.html">Type</a> t)</td></tr>
<tr class="separator:a5d3f4227b727bd0d4df109e86e0b1bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3379adaab35d97947fdc36b0366b3328"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#a3379adaab35d97947fdc36b0366b3328">getNonCastedValue</a> (<a class="el" href="classmlir_1_1Value.html">Value</a> <a class="el" href="InterfaceSupport_8h.html#a53ed1830bfcbea42b0e7b10281e03865">value</a>)</td></tr>
<tr class="memdesc:a3379adaab35d97947fdc36b0366b3328"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <code>value</code> is a memref::CastOp, return its source.  <a href="#a3379adaab35d97947fdc36b0366b3328">More...</a><br /></td></tr>
<tr class="separator:a3379adaab35d97947fdc36b0366b3328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb7ec3aad9a13c917e7cd1b32be02673"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#adb7ec3aad9a13c917e7cd1b32be02673">removeBufferizationFuncArguments</a> (<a class="el" href="classmlir_1_1BlockArgument.html">BlockArgument</a> bbArg)</td></tr>
<tr class="memdesc:adb7ec3aad9a13c917e7cd1b32be02673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the attribute that triggers inplace bufferization on a FuncOp argument <code>bbArg</code>.  <a href="#adb7ec3aad9a13c917e7cd1b32be02673">More...</a><br /></td></tr>
<tr class="separator:adb7ec3aad9a13c917e7cd1b32be02673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e21858574e633315d8988d5ebcf46f5"><td class="memItemLeft" align="right" valign="top">static FuncOp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#a8e21858574e633315d8988d5ebcf46f5">getCalledFunction</a> (CallOpInterface callOp)</td></tr>
<tr class="memdesc:a8e21858574e633315d8988d5ebcf46f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the FuncOp called by <code>callOp</code>.  <a href="#a8e21858574e633315d8988d5ebcf46f5">More...</a><br /></td></tr>
<tr class="separator:a8e21858574e633315d8988d5ebcf46f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aaa023f29fb72bbb4ebb178423578e5"><td class="memItemLeft" align="right" valign="top">static FunctionType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#a6aaa023f29fb72bbb4ebb178423578e5">getBufferizedFunctionType</a> (<a class="el" href="classmlir_1_1MLIRContext.html">MLIRContext</a> *ctx, <a class="el" href="classmlir_1_1TypeRange.html">TypeRange</a> argumentTypes, <a class="el" href="classmlir_1_1TypeRange.html">TypeRange</a> resultTypes)</td></tr>
<tr class="memdesc:a6aaa023f29fb72bbb4ebb178423578e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the FunctionType with <code>argumentTypes</code> and <code>resultTypes</code> where each tensor is replaced by the corresponding buffer type.  <a href="#a6aaa023f29fb72bbb4ebb178423578e5">More...</a><br /></td></tr>
<tr class="separator:a6aaa023f29fb72bbb4ebb178423578e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc199860e7feb8dd45b81ea38cc3738"><td class="memItemLeft" align="right" valign="top">static FunctionType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#a0dc199860e7feb8dd45b81ea38cc3738">getOrCreateBufferizedFunctionType</a> (FuncOp funcOp, <a class="el" href="classmlir_1_1TypeRange.html">TypeRange</a> argumentTypes, <a class="el" href="classmlir_1_1TypeRange.html">TypeRange</a> resultTypes, <a class="el" href="namespacemlir.html#ad7f731697783a754f6f0e3821d1264b2">DenseMap</a>&lt; FuncOp, FunctionType &gt; &amp;bufferizedFunctionTypes)</td></tr>
<tr class="memdesc:a0dc199860e7feb8dd45b81ea38cc3738"><td class="mdescLeft">&#160;</td><td class="mdescRight">If an entry for <code>funcOp</code> is available in <code>bufferizedFunctionTypes</code>, return it.  <a href="#a0dc199860e7feb8dd45b81ea38cc3738">More...</a><br /></td></tr>
<tr class="separator:a0dc199860e7feb8dd45b81ea38cc3738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa624ad7b205b0815c374eba6c08202f7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#aa624ad7b205b0815c374eba6c08202f7">equivalenceAnalysis</a> (FuncOp funcOp, BufferizationAliasInfo &amp;aliasInfo, ModuleBufferizationState &amp;moduleState)</td></tr>
<tr class="memdesc:aa624ad7b205b0815c374eba6c08202f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gather equivalence info of CallOps.  <a href="#aa624ad7b205b0815c374eba6c08202f7">More...</a><br /></td></tr>
<tr class="separator:aa624ad7b205b0815c374eba6c08202f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ebae97856e9e62ac7af821805f9db2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#a04ebae97856e9e62ac7af821805f9db2">bufferizeFuncOpBoundary</a> (FuncOp funcOp, BufferizationState &amp;state)</td></tr>
<tr class="memdesc:a04ebae97856e9e62ac7af821805f9db2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewrite the <code>funcOp</code> arguments analysis return values and terminator into buffer form (using the canonical memref layout for now), according to the inPlace-bufferizable information of the function arguments.  <a href="#a04ebae97856e9e62ac7af821805f9db2">More...</a><br /></td></tr>
<tr class="separator:a04ebae97856e9e62ac7af821805f9db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936fdd29984c48c5448adc48709ec395"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#a936fdd29984c48c5448adc48709ec395">getFuncOpsOrderedByCalls</a> (ModuleOp moduleOp, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; FuncOp &gt; &amp;orderedFuncOps, <a class="el" href="namespacemlir.html#ad7f731697783a754f6f0e3821d1264b2">DenseMap</a>&lt; FuncOp, <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt;&gt; &amp;callerMap)</td></tr>
<tr class="memdesc:a936fdd29984c48c5448adc48709ec395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store all functions of the <code>moduleOp</code> in <code>orderedFuncOps</code>, sorted by callee-caller order (i.e.  <a href="#a936fdd29984c48c5448adc48709ec395">More...</a><br /></td></tr>
<tr class="separator:a936fdd29984c48c5448adc48709ec395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad001b34103c1d4ace7b47aaf5ea5346f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#ad001b34103c1d4ace7b47aaf5ea5346f">foreachCaller</a> (const <a class="el" href="namespacemlir.html#ad7f731697783a754f6f0e3821d1264b2">DenseMap</a>&lt; FuncOp, <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt;&gt; &amp;callerMap, FuncOp callee, <a class="el" href="classllvm_1_1function__ref.html">llvm::function_ref</a>&lt; <a class="el" href="classvoid.html">void</a>(<a class="el" href="classmlir_1_1Operation.html">Operation</a> *)&gt; doit)</td></tr>
<tr class="separator:ad001b34103c1d4ace7b47aaf5ea5346f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e4e097aa4d933636c66131e3955068"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#a91e4e097aa4d933636c66131e3955068">layoutPostProcessing</a> (ModuleOp moduleOp)</td></tr>
<tr class="memdesc:a91e4e097aa4d933636c66131e3955068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Postprocess the linalg.buffer_layout annotation across function boundaries.  <a href="#a91e4e097aa4d933636c66131e3955068">More...</a><br /></td></tr>
<tr class="separator:a91e4e097aa4d933636c66131e3955068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c2ce593ad805a35baa8c265938c01c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#a11c2ce593ad805a35baa8c265938c01c">setInPlaceFuncArgument</a> (<a class="el" href="classmlir_1_1BlockArgument.html">BlockArgument</a> bbArg, bool inPlace)</td></tr>
<tr class="memdesc:a11c2ce593ad805a35baa8c265938c01c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the attribute that triggers inplace bufferization on a FuncOp argument <code>bbArg</code>.  <a href="#a11c2ce593ad805a35baa8c265938c01c">More...</a><br /></td></tr>
<tr class="separator:a11c2ce593ad805a35baa8c265938c01c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad89177bd0a8a0cb90e630c07ea2d1de8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleBufferization_8cpp.html#ad89177bd0a8a0cb90e630c07ea2d1de8">annotateOpsWithBufferizationMarkers</a> (FuncOp funcOp, BufferizationState &amp;state)</td></tr>
<tr class="memdesc:ad89177bd0a8a0cb90e630c07ea2d1de8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Annotate the IR with the result of the analysis. For testing/debugging only.  <a href="#ad89177bd0a8a0cb90e630c07ea2d1de8">More...</a><br /></td></tr>
<tr class="separator:ad89177bd0a8a0cb90e630c07ea2d1de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae0bb487c37194ac844a13205a7edcefc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0bb487c37194ac844a13205a7edcefc">&#9670;&nbsp;</a></span>DBGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBGS</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(llvm::dbgs() &lt;&lt; '[' &lt;&lt; <a class="el" href="Transforms_2Utils_2Utils_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a> &lt;&lt; &quot;] &quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00021">21</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00226">bufferizeFuncOpBoundary()</a>.</p>

</div>
</div>
<a id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&nbsp;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;comprehensive-module-bufferize&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00020">20</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

</div>
</div>
<a id="aebb7bbd2151d1599f0a2a4dd7be89253"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebb7bbd2151d1599f0a2a4dd7be89253">&#9670;&nbsp;</a></span>LDBG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LDBG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">X</td><td>)</td>
          <td>&#160;&#160;&#160;LLVM_DEBUG(<a class="el" href="VectorTransferOpTransforms_8cpp.html#ae0bb487c37194ac844a13205a7edcefc">DBGS</a>() &lt;&lt; X)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00022">22</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00172">getOrCreateBufferizedFunctionType()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad89177bd0a8a0cb90e630c07ea2d1de8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad89177bd0a8a0cb90e630c07ea2d1de8">&#9670;&nbsp;</a></span>annotateOpsWithBufferizationMarkers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> annotateOpsWithBufferizationMarkers </td>
          <td>(</td>
          <td class="paramtype">FuncOp&#160;</td>
          <td class="paramname"><em>funcOp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationState &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Annotate the IR with the result of the analysis. For testing/debugging only. </p>

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00747">747</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">References <a class="el" href="ModuleBufferization_8cpp_source.html#l00739">setInPlaceFuncArgument()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00755">mlir::linalg::comprehensive_bufferize::runComprehensiveBufferize()</a>.</p>

</div>
</div>
<a id="a04ebae97856e9e62ac7af821805f9db2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04ebae97856e9e62ac7af821805f9db2">&#9670;&nbsp;</a></span>bufferizeFuncOpBoundary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> bufferizeFuncOpBoundary </td>
          <td>(</td>
          <td class="paramtype">FuncOp&#160;</td>
          <td class="paramname"><em>funcOp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationState &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rewrite the <code>funcOp</code> arguments analysis return values and terminator into buffer form (using the canonical memref layout for now), according to the inPlace-bufferizable information of the function arguments. </p>
<p>This relies on a buffer equivalence analysis of each return operand. When a result buffer is equivalent to a BlockArgument of <code>funcOp</code>, it can be dropped from the return values and becomes inplaceable at all callers. This assumes all CallOp perform the necessary work to clone operands so as to make them inplaceable. Reliance on this logic will need to be relaxed in the future.</p>
<p>Note: Returning a memref currently fails bufferization. If such memrefs originate from an op with an Alloc effect, they could be hoisted in the future. </p>

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00226">226</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">References <a class="el" href="Block_8cpp_source.html#l00141">mlir::Block::addArgument()</a>, <a class="el" href="ModuleBufferization_8cpp_source.html#l00021">DBGS</a>, <a class="el" href="Types_8h_source.html#l00244">mlir::Type::dyn_cast()</a>, <a class="el" href="Block_8cpp_source.html#l00208">mlir::Block::eraseArgument()</a>, <a class="el" href="Block_8h_source.html#l00145">mlir::Block::front()</a>, <a class="el" href="Block_8h_source.html#l00121">mlir::Block::getArgument()</a>, <a class="el" href="Block_8h_source.html#l00076">mlir::Block::getArguments()</a>, <a class="el" href="ModuleBufferization_8cpp_source.html#l00054">getAssumedUniqueReturnOp()</a>, <a class="el" href="ModuleBufferization_8cpp_source.html#l00047">getModuleBufferizationState()</a>, <a class="el" href="ModuleBufferization_8cpp_source.html#l00120">getNonCastedValue()</a>, <a class="el" href="Block_8h_source.html#l00120">mlir::Block::getNumArguments()</a>, <a class="el" href="ModuleBufferization_8cpp_source.html#l00172">getOrCreateBufferizedFunctionType()</a>, <a class="el" href="Value_8h_source.html#l00119">mlir::Value::getType()</a>, <a class="el" href="Types_8h_source.html#l00234">mlir::Type::isa()</a>, <a class="el" href="ModuleBufferization_8cpp_source.html#l00116">isaTensor()</a>, <a class="el" href="Value_8h_source.html#l00163">mlir::Value::replaceAllUsesWith()</a>, <a class="el" href="Builders_8h_source.html#l00364">mlir::OpBuilder::setInsertionPointToStart()</a>, and <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00755">mlir::linalg::comprehensive_bufferize::runComprehensiveBufferize()</a>.</p>

</div>
</div>
<a id="aa624ad7b205b0815c374eba6c08202f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa624ad7b205b0815c374eba6c08202f7">&#9670;&nbsp;</a></span>equivalenceAnalysis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> equivalenceAnalysis </td>
          <td>(</td>
          <td class="paramtype">FuncOp&#160;</td>
          <td class="paramname"><em>funcOp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BufferizationAliasInfo &amp;&#160;</td>
          <td class="paramname"><em>aliasInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ModuleBufferizationState &amp;&#160;</td>
          <td class="paramname"><em>moduleState</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gather equivalence info of CallOps. </p>
<p>Note: This only adds new equivalence info if <code>funcOp</code> was already analyzed. </p>

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00189">189</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">References <a class="el" href="Visitors_8h_source.html#l00051">mlir::WalkResult::advance()</a>, <a class="el" href="ModuleBufferization_8cpp_source.html#l00137">getCalledFunction()</a>, and <a class="el" href="Visitors_8h_source.html#l00052">mlir::WalkResult::skip()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00755">mlir::linalg::comprehensive_bufferize::runComprehensiveBufferize()</a>.</p>

</div>
</div>
<a id="ad001b34103c1d4ace7b47aaf5ea5346f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad001b34103c1d4ace7b47aaf5ea5346f">&#9670;&nbsp;</a></span>foreachCaller()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> foreachCaller </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacemlir.html#ad7f731697783a754f6f0e3821d1264b2">DenseMap</a>&lt; FuncOp, <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>callerMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FuncOp&#160;</td>
          <td class="paramname"><em>callee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1function__ref.html">llvm::function_ref</a>&lt; <a class="el" href="classvoid.html">void</a>(<a class="el" href="classmlir_1_1Operation.html">Operation</a> *)&gt;&#160;</td>
          <td class="paramname"><em>doit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00405">405</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

</div>
</div>
<a id="a8eb96ef9c328b053a8e7c9715576d0d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eb96ef9c328b053a8e7c9715576d0d0">&#9670;&nbsp;</a></span>getAssumedUniqueReturnOp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ReturnOp getAssumedUniqueReturnOp </td>
          <td>(</td>
          <td class="paramtype">FuncOp&#160;</td>
          <td class="paramname"><em>funcOp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the unique ReturnOp that terminates <code>funcOp</code>. </p>
<p>Return nullptr if there is no such unique ReturnOp. </p>

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00054">54</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">References <a class="el" href="Attributes_8h_source.html#l00126">mlir::Attribute::cast()</a>, <a class="el" href="UseDefLists_8h_source.html#l00133">mlir::IROperand&lt; DerivedT, IRValueT &gt;::get()</a>, <a class="el" href="Value_8h_source.html#l00312">mlir::BlockArgument::getArgNumber()</a>, <a class="el" href="Operation_8h_source.html#l00323">mlir::Operation::getAttr()</a>, <a class="el" href="Operation_8h_source.html#l00099">mlir::Operation::getContext()</a>, <a class="el" href="ModuleBufferization_8cpp_source.html#l00047">getModuleBufferizationState()</a>, <a class="el" href="Operation_8h_source.html#l00215">mlir::Operation::getNumOperands()</a>, <a class="el" href="Value_8cpp_source.html#l00212">mlir::OpOperand::getOperandNumber()</a>, <a class="el" href="UseDefLists_8h_source.html#l00037">mlir::detail::IROperandBase::getOwner()</a>, <a class="el" href="Value_8h_source.html#l00119">mlir::Value::getType()</a>, <a class="el" href="Operation_8h_source.html#l00337">mlir::Operation::hasAttr()</a>, <a class="el" href="Types_8h_source.html#l00234">mlir::Type::isa()</a>, <a class="el" href="Operation_8h_source.html#l00347">mlir::Operation::setAttr()</a>, and <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00520">mlir::linalg::comprehensive_bufferize::std_ext::CallOpInterface::bufferize()</a>, and <a class="el" href="ModuleBufferization_8cpp_source.html#l00226">bufferizeFuncOpBoundary()</a>.</p>

</div>
</div>
<a id="a6aaa023f29fb72bbb4ebb178423578e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aaa023f29fb72bbb4ebb178423578e5">&#9670;&nbsp;</a></span>getBufferizedFunctionType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static FunctionType getBufferizedFunctionType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1MLIRContext.html">MLIRContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1TypeRange.html">TypeRange</a>&#160;</td>
          <td class="paramname"><em>argumentTypes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1TypeRange.html">TypeRange</a>&#160;</td>
          <td class="paramname"><em>resultTypes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the FunctionType with <code>argumentTypes</code> and <code>resultTypes</code> where each tensor is replaced by the corresponding buffer type. </p>
<p>In order for all the callers to agree, this <em>must</em> bufferize to the most dynamic buffer type supported. A later pass across all CallOps in the module can decide whether to simplify the types of to version according to some cost model. </p>

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00151">151</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">References <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00673">mlir::linalg::comprehensive_bufferize::getContiguousOrUnrankedMemRefType()</a>, <a class="el" href="BufferizableOpInterface_8cpp_source.html#l00682">mlir::linalg::comprehensive_bufferize::getDynamicMemRefType()</a>, and <a class="el" href="SCCP_8cpp_source.html#l00189">rewrite()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00172">getOrCreateBufferizedFunctionType()</a>.</p>

</div>
</div>
<a id="a8e21858574e633315d8988d5ebcf46f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e21858574e633315d8988d5ebcf46f5">&#9670;&nbsp;</a></span>getCalledFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static FuncOp getCalledFunction </td>
          <td>(</td>
          <td class="paramtype">CallOpInterface&#160;</td>
          <td class="paramname"><em>callOp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the FuncOp called by <code>callOp</code>. </p>

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00137">137</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">References <a class="el" href="SymbolTable_8cpp_source.html#l00370">mlir::SymbolTable::lookupNearestSymbolFrom()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00520">mlir::linalg::comprehensive_bufferize::std_ext::CallOpInterface::bufferize()</a>, and <a class="el" href="ModuleBufferization_8cpp_source.html#l00189">equivalenceAnalysis()</a>.</p>

</div>
</div>
<a id="a936fdd29984c48c5448adc48709ec395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936fdd29984c48c5448adc48709ec395">&#9670;&nbsp;</a></span>getFuncOpsOrderedByCalls()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> getFuncOpsOrderedByCalls </td>
          <td>(</td>
          <td class="paramtype">ModuleOp&#160;</td>
          <td class="paramname"><em>moduleOp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; FuncOp &gt; &amp;&#160;</td>
          <td class="paramname"><em>orderedFuncOps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemlir.html#ad7f731697783a754f6f0e3821d1264b2">DenseMap</a>&lt; FuncOp, <a class="el" href="namespacemlir.html#a59d6aae8a616cd9d13c8b1edb1095948">DenseSet</a>&lt; <a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>callerMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store all functions of the <code>moduleOp</code> in <code>orderedFuncOps</code>, sorted by callee-caller order (i.e. </p>
<p>callees without callers first). Store the map of FuncOp to all its callers in <code>callerMap</code>. Return <code><a class="el" href="namespacemlir.html#a07367c8c4a3d4a47a32bc2b9b7d8a3f4" title="Utility function to generate a LogicalResult. ">failure()</a></code> if a cycle of calls is detected or if we are unable to retrieve the called FuncOp from any CallOpInterface. </p>

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00353">353</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00755">mlir::linalg::comprehensive_bufferize::runComprehensiveBufferize()</a>.</p>

</div>
</div>
<a id="a5a3605cd6841d37ac466763fd1ce61c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a3605cd6841d37ac466763fd1ce61c0">&#9670;&nbsp;</a></span>getModuleBufferizationState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ModuleBufferizationState&amp; getModuleBufferizationState </td>
          <td>(</td>
          <td class="paramtype">BufferizationState &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00047">47</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00520">mlir::linalg::comprehensive_bufferize::std_ext::CallOpInterface::bufferize()</a>, <a class="el" href="ModuleBufferization_8cpp_source.html#l00226">bufferizeFuncOpBoundary()</a>, <a class="el" href="ModuleBufferization_8cpp_source.html#l00054">getAssumedUniqueReturnOp()</a>, <a class="el" href="ModuleBufferization_8cpp_source.html#l00697">mlir::linalg::comprehensive_bufferize::std_ext::FuncOpInterface::isWritable()</a>, and <a class="el" href="ModuleBufferization_8cpp_source.html#l00755">mlir::linalg::comprehensive_bufferize::runComprehensiveBufferize()</a>.</p>

</div>
</div>
<a id="a3379adaab35d97947fdc36b0366b3328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3379adaab35d97947fdc36b0366b3328">&#9670;&nbsp;</a></span>getNonCastedValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Value.html">Value</a> getNonCastedValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If <code>value</code> is a memref::CastOp, return its source. </p>
<p>Otherwise, return <code>value</code> directly. </p>

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00120">120</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8cpp_source.html#l00020">mlir::Value::getDefiningOp()</a>, and <a class="el" href="InterfaceSupport_8h_source.html#l00161">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00226">bufferizeFuncOpBoundary()</a>.</p>

</div>
</div>
<a id="a0dc199860e7feb8dd45b81ea38cc3738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dc199860e7feb8dd45b81ea38cc3738">&#9670;&nbsp;</a></span>getOrCreateBufferizedFunctionType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static FunctionType getOrCreateBufferizedFunctionType </td>
          <td>(</td>
          <td class="paramtype">FuncOp&#160;</td>
          <td class="paramname"><em>funcOp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1TypeRange.html">TypeRange</a>&#160;</td>
          <td class="paramname"><em>argumentTypes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1TypeRange.html">TypeRange</a>&#160;</td>
          <td class="paramname"><em>resultTypes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemlir.html#ad7f731697783a754f6f0e3821d1264b2">DenseMap</a>&lt; FuncOp, FunctionType &gt; &amp;&#160;</td>
          <td class="paramname"><em>bufferizedFunctionTypes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If an entry for <code>funcOp</code> is available in <code>bufferizedFunctionTypes</code>, return it. </p>
<p>Otherwise, construct a new entry based on <code>argumentTypes</code> and <code>resultTypes</code>. </p>

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00172">172</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">References <a class="el" href="ModuleBufferization_8cpp_source.html#l00151">getBufferizedFunctionType()</a>, and <a class="el" href="ModuleBufferization_8cpp_source.html#l00022">LDBG</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00520">mlir::linalg::comprehensive_bufferize::std_ext::CallOpInterface::bufferize()</a>, and <a class="el" href="ModuleBufferization_8cpp_source.html#l00226">bufferizeFuncOpBoundary()</a>.</p>

</div>
</div>
<a id="a5d3f4227b727bd0d4df109e86e0b1bab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3f4227b727bd0d4df109e86e0b1bab">&#9670;&nbsp;</a></span>isaTensor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isaTensor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Type.html">Type</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00116">116</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">References <a class="el" href="Types_8h_source.html#l00234">mlir::Type::isa()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00520">mlir::linalg::comprehensive_bufferize::std_ext::CallOpInterface::bufferize()</a>, and <a class="el" href="ModuleBufferization_8cpp_source.html#l00226">bufferizeFuncOpBoundary()</a>.</p>

</div>
</div>
<a id="a91e4e097aa4d933636c66131e3955068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91e4e097aa4d933636c66131e3955068">&#9670;&nbsp;</a></span>layoutPostProcessing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> layoutPostProcessing </td>
          <td>(</td>
          <td class="paramtype">ModuleOp&#160;</td>
          <td class="paramname"><em>moduleOp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Postprocess the linalg.buffer_layout annotation across function boundaries. </p>
<p>This is a purely mechanical process that may later become part of a separate pass with its own layout assignment heuristic. </p>

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00417">417</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00755">mlir::linalg::comprehensive_bufferize::runComprehensiveBufferize()</a>.</p>

</div>
</div>
<a id="adb7ec3aad9a13c917e7cd1b32be02673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb7ec3aad9a13c917e7cd1b32be02673">&#9670;&nbsp;</a></span>removeBufferizationFuncArguments()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> removeBufferizationFuncArguments </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1BlockArgument.html">BlockArgument</a>&#160;</td>
          <td class="paramname"><em>bbArg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove the attribute that triggers inplace bufferization on a FuncOp argument <code>bbArg</code>. </p>

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00128">128</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8h_source.html#l00312">mlir::BlockArgument::getArgNumber()</a>, <a class="el" href="Value_8h_source.html#l00309">mlir::BlockArgument::getOwner()</a>, and <a class="el" href="Block_8cpp_source.html#l00030">mlir::Block::getParentOp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00755">mlir::linalg::comprehensive_bufferize::runComprehensiveBufferize()</a>.</p>

</div>
</div>
<a id="a11c2ce593ad805a35baa8c265938c01c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11c2ce593ad805a35baa8c265938c01c">&#9670;&nbsp;</a></span>setInPlaceFuncArgument()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classvoid.html">void</a> setInPlaceFuncArgument </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1BlockArgument.html">BlockArgument</a>&#160;</td>
          <td class="paramname"><em>bbArg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>inPlace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the attribute that triggers inplace bufferization on a FuncOp argument <code>bbArg</code>. </p>

<p class="definition">Definition at line <a class="el" href="ModuleBufferization_8cpp_source.html#l00739">739</a> of file <a class="el" href="ModuleBufferization_8cpp_source.html">ModuleBufferization.cpp</a>.</p>

<p class="reference">References <a class="el" href="MLIRContext_8cpp_source.html#l00851">mlir::BoolAttr::get()</a>, <a class="el" href="Value_8h_source.html#l00312">mlir::BlockArgument::getArgNumber()</a>, <a class="el" href="Value_8h_source.html#l00122">mlir::Value::getContext()</a>, <a class="el" href="Value_8h_source.html#l00309">mlir::BlockArgument::getOwner()</a>, and <a class="el" href="Block_8cpp_source.html#l00030">mlir::Block::getParentOp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleBufferization_8cpp_source.html#l00747">annotateOpsWithBufferizationMarkers()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 6 2021 20:34:09 for MLIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
